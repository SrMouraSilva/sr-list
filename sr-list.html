<link rel="import" href="bower_components/polymer/polymer.html">

<polymer-element name="sr-list" attributes="type id" noscript>
<template>
	<style>
		:host {
			display: block;
			background: #EDEEF2;
		}

		ul {
			margin: 0;
			padding: 0;
		}
	</style>
	<ul id="sr-list" data-type="{{type}}" role="list">
		<content></content>
	</ul>

</template>
</polymer-element>

<polymer-element name="sr-item" attributes="href disabled separator selected icon" noscript>
<template>
	<style>
		:host {
			border-bottom: 1px solid #FFF;
			color: #428bca;
			cursor: default;
			padding: 10px 15px;
		}
		:host, a {
			display: block;
		}
		:host-context(sr-list[type="horizontal"]) {
			display: inline-block;
		}
		li {
			list-style: none;
		}
		a { /* buggy all */
			color: #428bca;
			text-decoration: none;
			cursor: pointer;
		}

		/* Borda */
		:host-context(sr-list[type="horizontal"]) {
			border-right: 1px solid #FFF;
			border-bottom: none;
		}
		:host-context(sr-list):last-child { /* buggy on Chrome */
			border: none;
		}

		/* Separator */
		/*  Vertical  */
		:host[separator] { /* buggy on Chrome */
			padding-top: 1px;
			padding-bottom: 1px;
			background: rgba(255, 255, 255, 0.3);
		}
		/*  Horizontal  */
		:host-context(sr-list[type="horizontal"]) :host[separator] + :host {
			border-left: 1px solid #FFF;
		}
		/*
			padding: 0;
			margin: 15px 0;
			height: 10px;
			display: inherit; /* buggy all * /
		}*/

		/*
		sr-list[separator] + :host-context(sr-list[type="horizontal"]) {
			border-left: 1px solid #FFF;
		}
		*/

		/* Item da lista - Estados */
		:host:not(.icon):not([separator]):hover { /* buggy on Chrome */
			background: rgba(0, 0, 0, 0.07); /* buggy on Chrome - dont work */
		}
		:host[selected]:not(.icon):not([separator]):hover { /* buggy on Chrome */
			background: #F2C200; /* test on Chrome */
		}
		:host[selected] { /* buggy on Chrome */
			background: #FFCC00;
		}
		:host[disabled] { /* buggy on Chrome */
			background-color: rgba(255, 255, 255, 0.8);
			box-shadow: none;
			cursor: not-allowed !important;
			opacity: 0.65;
			pointer-events: none;
		}
		:host[selected][disabled] { /* test on Chrome */
			background: rgba(255, 204, 0, 0.6);
		}

		/* Link */
		:host[href] {
			cursor: pointer;
			padding: 0; /* gambiarra daqui ... */
		}
		a { /* CSS not visible */
			padding: 10px 15px; /* gambiarra ... até aqui */
		}
		a:focus { /* CSS not visible */
			outline: 1px #a4c6fd solid;
			background-color: rgba(255, 255, 255, 0.8);
		}
		a:active { /* CSS not visible */
			background-color: #FFDD00 !important;
		}

		/* implementando */
		.icon {
			height: 10px;
			width: 30px;

			margin: -15px 7.5px -12px -7.5px; /* 15px/2 */
			padding: 10px 0;
			display: inline-block;
			background-size: contain;
			background-repeat: no-repeat;
			background-position: center;

			vertical-align: middle;
		}
	</style>

	<template id="content">
		<template if="{{icon}}">
			<span class="icon" style="background-image:url({{icon}})" />
		</template>
		<content></content>
	</template>

	<li id="#sr-item"
		role="{{ !separator ? 'listitem' : 'separator' }}"
		aria-disabled="{{disabled ? 'true' : 'false'}}"
	>
		<template if="{{!separator}}">
			<template if="{{href}}">
				<a href="{{href}}">
					<template bind ref="content"></template>
				</a>
			</template>
			<template if="{{!href}}">
				<template bind ref="content"></template>
			</template>
		</template>
	</li>
</template>

<script>
(function() {
	var changeStatus = function(self, attribute, state) {
		if (state != false) {
			self.setAttribute(attribute, attribute);
		} else {
			self.removeAttribute(attribute);
		}
	}
	var is = function(self, attribute) {
		return self.getAttribute(attribute) == attribute;
	}


	Polymer('sr-item', {
		isSelected: function() {
			return is(this, "selected");
		},
		select: function(state) {
			changeStatus(this, "selected", state);
		},
		isDisabled: function() {
			return is(this, "selected");
		},
		disable: function(state) {
			changeStatus(this, "disabled", state);
		},

	});
})();
</script>

</polymer-element>